# SmartCutElf 使用说明

## ✅ 如何启动

### 方式1：直接启动（推荐）
```bash
python main.py
```

### 方式2：使用启动脚本（Windows）
```powershell
.\启动.ps1
```

## 🎯 基本使用步骤

1. **打开文件夹** - 点击"📁 打开文件夹"，选择包含视频的目录
2. **查看列表** - 左侧会显示所有找到的视频文件
3. **选择视频** - 点击文件查看详细信息
4. **配置选项** - 可选择是否生成字幕（默认开启）
5. **开始处理** - 点击"▶️ 开始处理"开始自动剪辑
6. **查看结果** - 处理完成后在`output/`目录查看剪辑后的视频

## ⚙️ 重要说明

### 必需条件
- ✅ Python 3.8+ （已满足，您使用3.13.7）
- ✅ PyQt5, scipy, opencv-python 等基础库（已安装）
- ⚠️ **FFmpeg**（必须，用于视频处理）

### 可选功能
- 📝 **字幕生成**需要安装Whisper：
  ```bash
  pip install openai-whisper torch
  ```
  首次使用会自动下载AI模型（约140MB）

### FFmpeg安装检查
运行以下命令检查是否已安装：
```bash
ffmpeg -version
```

**如果未安装**，请按以下步骤：
1. 下载: https://github.com/BtbN/FFmpeg-Builds/releases
2. 下载 `ffmpeg-master-latest-win64-gpl.zip`
3. 解压到 `C:\ffmpeg`
4. 添加 `C:\ffmpeg\bin` 到系统PATH环境变量
5. 重启终端验证安装

## 💡 使用建议

### 首次使用
1. **关闭字幕功能测试**：在UI界面取消勾选"生成字幕"
2. **使用短视频测试**：先用1-2分钟的视频测试基本剪辑功能
3. **检查输出目录**：确保`output/`文件夹有写入权限

### 配置调整
编辑 `config.yaml` 文件可以调整：
- 目标视频时长（默认3-5分钟）
- 高光检测权重
- 并发处理数量
- 字幕样式等

## 🐛 常见问题

### 1. 启动成功但处理失败
- 确保已安装FFmpeg
- 检查视频文件格式是否支持（MP4/AVI/MOV等）
- 查看`logs/`目录的日志文件了解详情

### 2. 字幕功能报错
- 需要先安装Whisper: `pip install openai-whisper torch`
- 或者在UI中关闭"生成字幕"选项

### 3. 处理速度慢
- 减少并发数量（config.yaml中的`processing.max_workers`）
- 使用更小的Whisper模型（`tiny`而不是`base`）
- 处理较短的视频文件

## 📁 输出文件

处理完成的视频保存在：
- **视频文件**：`output/原文件名_edited.mp4`
- **字幕文件**：`output/原文件名_edited.srt`（如果启用）

## 📊 支持的格式

**输入格式**：MP4, AVI, MOV, MKV, WMV, FLV, M4V, WEBM
**输出格式**：MP4 (H.264编码)

## 📞 获取帮助

- 查看 `启动指南.md` 获取详细说明
- 查看 `logs/` 目录了解错误详情
- 查看 `walkthrough.md` 了解项目详情
